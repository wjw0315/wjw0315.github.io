---
author:     JiaweiWu        
header-img: img/post-bg-rwd.jpg  
category: DevOps   
catalog: true  
tags:                             

- DevOps
---



> 环境说明：
> Docker Desktop:version 3.3.3 ;
> Docker :version 20.10.6;
> k8s:version 1.19.7



# 1、安装

##  1.1 拉取镜像

- 采用阿里云的k8s-for-docker-desktop，解决经常遇到的Docker for Desktop中K8S一直卡在starting状态的问题

```
git clone https://github.com/AliyunContainerService/k8s-for-docker-desktop
cd k8s-for-docker-desktop
git checkout v1.19.7

// 执行脚本安装K8S相关镜像（确认k8s-for-docker-desktop文件夹下的images中的k8s和本地安装的docker中需要的k8s版本保持一致）
//拉取镜像
sh load_images.sh
```

## 1.2 设置

- 设置docker代理和k8s的设置，并重启Docker for Desktop

```
 "registry-mirrors": [
    "https://docker.mirrors.ustc.edu.cn"
  ]
```

![](https://raw.githubusercontent.com/wjw0315/blog_gitalk/master/_postImg/1624192280832.jpg)



![](https://raw.githubusercontent.com/wjw0315/blog_gitalk/master/_postImg/1624192343069.jpg)



# 2.配置k8s





# 官方文档
https://docs.docker.com/docker-for-mac/apple-m1/

https://www.docker.com/blog/new-docker-desktop-preview-for-apple-m1-released/